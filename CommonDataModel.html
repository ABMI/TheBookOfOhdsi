<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 The Common Data Model | The Book of OHDSI</title>
  <meta name="description" content="A book about the Observational Health Data Science and Informatics (OHDS). It described the OHDSI community, open standards and open source software." />
  <meta name="generator" content="bookdown 0.11.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 The Common Data Model | The Book of OHDSI" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://ohdsi.github.io/TheBookOfOhdsi/" />
  <meta property="og:image" content="https://ohdsi.github.io/TheBookOfOhdsi/images/Cover/Cover.png" />
  <meta property="og:description" content="A book about the Observational Health Data Science and Informatics (OHDS). It described the OHDSI community, open standards and open source software." />
  <meta name="github-repo" content="OHDSI/TheBookOfOhdsi" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 The Common Data Model | The Book of OHDSI" />
  
  <meta name="twitter:description" content="A book about the Observational Health Data Science and Informatics (OHDS). It described the OHDSI community, open standards and open source software." />
  <meta name="twitter:image" content="https://ohdsi.github.io/TheBookOfOhdsi/images/Cover/Cover.png" />

<meta name="author" content="Observational Health Data Science and Informatics" />


<meta name="date" content="2019-07-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="summary.html">
<link rel="next" href="StandardizedVocabularies.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-104086677-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-104086677-2');
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The Book of OHDSI</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#goals-of-this-book"><i class="fa fa-check"></i>Goals of this book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#structure-of-the-book"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="part"><span><b>I The OHDSI Community</b></span></li>
<li class="chapter" data-level="1" data-path="MissionVissionValues.html"><a href="MissionVissionValues.html"><i class="fa fa-check"></i><b>1</b> Mission, vision, values</a><ul>
<li class="chapter" data-level="1.1" data-path="MissionVissionValues.html"><a href="MissionVissionValues.html#our-mission"><i class="fa fa-check"></i><b>1.1</b> Our Mission</a></li>
<li class="chapter" data-level="1.2" data-path="MissionVissionValues.html"><a href="MissionVissionValues.html#our-vision"><i class="fa fa-check"></i><b>1.2</b> Our Vision</a></li>
<li class="chapter" data-level="1.3" data-path="MissionVissionValues.html"><a href="MissionVissionValues.html#our-objectives"><i class="fa fa-check"></i><b>1.3</b> Our Objectives</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Collaborators.html"><a href="Collaborators.html"><i class="fa fa-check"></i><b>2</b> Collaborators</a></li>
<li class="chapter" data-level="3" data-path="OpenScience.html"><a href="OpenScience.html"><i class="fa fa-check"></i><b>3</b> Open Science</a><ul>
<li class="chapter" data-level="3.1" data-path="OpenScience.html"><a href="OpenScience.html#open-science"><i class="fa fa-check"></i><b>3.1</b> Open Science</a></li>
<li class="chapter" data-level="3.2" data-path="OpenScience.html"><a href="OpenScience.html#fair-guiding-principles"><i class="fa fa-check"></i><b>3.2</b> FAIR Guiding Principles</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="WhereToBegin.html"><a href="WhereToBegin.html"><i class="fa fa-check"></i><b>4</b> Where to begin</a><ul>
<li class="chapter" data-level="4.1" data-path="WhereToBegin.html"><a href="WhereToBegin.html#joining-the-journey"><i class="fa fa-check"></i><b>4.1</b> Joining the Journey</a><ul>
<li class="chapter" data-level="4.1.1" data-path="WhereToBegin.html"><a href="WhereToBegin.html#ohdsi-community-calls"><i class="fa fa-check"></i><b>4.1.1</b> OHDSI Community Calls</a></li>
<li class="chapter" data-level="4.1.2" data-path="WhereToBegin.html"><a href="WhereToBegin.html#ohdsi-workgroups"><i class="fa fa-check"></i><b>4.1.2</b> OHDSI Workgroups</a></li>
<li class="chapter" data-level="4.1.3" data-path="WhereToBegin.html"><a href="WhereToBegin.html#ohdsi-regional-chapters"><i class="fa fa-check"></i><b>4.1.3</b> OHDSI Regional Chapters</a></li>
<li class="chapter" data-level="4.1.4" data-path="WhereToBegin.html"><a href="WhereToBegin.html#ohdsi-research-network"><i class="fa fa-check"></i><b>4.1.4</b> OHDSI Research Network</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="WhereToBegin.html"><a href="WhereToBegin.html#navigating-your-odyssey-in-ohdsi"><i class="fa fa-check"></i><b>4.2</b> Navigating Your Odyssey in OHDSI</a><ul>
<li class="chapter" data-level="4.2.1" data-path="WhereToBegin.html"><a href="WhereToBegin.html#how-to-translate-your-research-question-into-an-ohdsi-framework"><i class="fa fa-check"></i><b>4.2.1</b> How to Translate Your Research Question into an OHDSI Framework</a></li>
<li class="chapter" data-level="4.2.2" data-path="WhereToBegin.html"><a href="WhereToBegin.html#example-of-a-study-in-ohdsi-speak"><i class="fa fa-check"></i><b>4.2.2</b> Example of a Study in OHDSI-speak</a></li>
<li class="chapter" data-level="4.2.3" data-path="WhereToBegin.html"><a href="WhereToBegin.html#more-real-example-questions"><i class="fa fa-check"></i><b>4.2.3</b> More real example questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>5</b> Summary</a></li>
<li class="part"><span><b>II Uniform Data Representation</b></span></li>
<li class="chapter" data-level="6" data-path="CommonDataModel.html"><a href="CommonDataModel.html"><i class="fa fa-check"></i><b>6</b> The Common Data Model</a><ul>
<li class="chapter" data-level="6.1" data-path="CommonDataModel.html"><a href="CommonDataModel.html#design-principles"><i class="fa fa-check"></i><b>6.1</b> Design Principles</a></li>
<li class="chapter" data-level="6.2" data-path="CommonDataModel.html"><a href="CommonDataModel.html#data-model-conventions"><i class="fa fa-check"></i><b>6.2</b> Data Model Conventions</a><ul>
<li class="chapter" data-level="6.2.1" data-path="CommonDataModel.html"><a href="CommonDataModel.html#model-conv"><i class="fa fa-check"></i><b>6.2.1</b> General conventions of the model</a></li>
<li class="chapter" data-level="6.2.2" data-path="CommonDataModel.html"><a href="CommonDataModel.html#general-conventions-of-schemas"><i class="fa fa-check"></i><b>6.2.2</b> General conventions of schemas</a></li>
<li class="chapter" data-level="6.2.3" data-path="CommonDataModel.html"><a href="CommonDataModel.html#general-conventions-of-data-tables"><i class="fa fa-check"></i><b>6.2.3</b> General conventions of data tables</a></li>
<li class="chapter" data-level="6.2.4" data-path="CommonDataModel.html"><a href="CommonDataModel.html#general-conventions-of-fields"><i class="fa fa-check"></i><b>6.2.4</b> General conventions of fields</a></li>
<li class="chapter" data-level="6.2.5" data-path="CommonDataModel.html"><a href="CommonDataModel.html#representation-of-content-through-concepts"><i class="fa fa-check"></i><b>6.2.5</b> Representation of content through Concepts</a></li>
<li class="chapter" data-level="6.2.6" data-path="CommonDataModel.html"><a href="CommonDataModel.html#difference-between-concept-ids-and-source-values"><i class="fa fa-check"></i><b>6.2.6</b> Difference between Concept IDs and Source Values</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="CommonDataModel.html"><a href="CommonDataModel.html#omop-cdm-standardized-tables"><i class="fa fa-check"></i><b>6.3</b> OMOP CDM Standardized Tables</a><ul>
<li class="chapter" data-level="6.3.1" data-path="CommonDataModel.html"><a href="CommonDataModel.html#running-example-endometriosis"><i class="fa fa-check"></i><b>6.3.1</b> Running Example: Endometriosis</a></li>
<li class="chapter" data-level="6.3.2" data-path="CommonDataModel.html"><a href="CommonDataModel.html#person"><i class="fa fa-check"></i><b>6.3.2</b> PERSON table</a></li>
<li class="chapter" data-level="6.3.3" data-path="CommonDataModel.html"><a href="CommonDataModel.html#observationPeriod"><i class="fa fa-check"></i><b>6.3.3</b> OBSERVATION_PERIOD table</a></li>
<li class="chapter" data-level="6.3.4" data-path="CommonDataModel.html"><a href="CommonDataModel.html#visitOccurrence"><i class="fa fa-check"></i><b>6.3.4</b> VISIT_OCCURRENCE</a></li>
<li class="chapter" data-level="6.3.5" data-path="CommonDataModel.html"><a href="CommonDataModel.html#conditionOccurrence"><i class="fa fa-check"></i><b>6.3.5</b> CONDITION_OCCURRENCE</a></li>
<li class="chapter" data-level="6.3.6" data-path="CommonDataModel.html"><a href="CommonDataModel.html#drugExposure"><i class="fa fa-check"></i><b>6.3.6</b> DRUG_EXPOSURE</a></li>
<li class="chapter" data-level="6.3.7" data-path="CommonDataModel.html"><a href="CommonDataModel.html#procedureOccurrence"><i class="fa fa-check"></i><b>6.3.7</b> PROCEDURE_OCCURRENCE</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="CommonDataModel.html"><a href="CommonDataModel.html#summary-1"><i class="fa fa-check"></i><b>6.4</b> Summary</a></li>
<li class="chapter" data-level="6.5" data-path="CommonDataModel.html"><a href="CommonDataModel.html#exercises"><i class="fa fa-check"></i><b>6.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="StandardizedVocabularies.html"><a href="StandardizedVocabularies.html"><i class="fa fa-check"></i><b>7</b> Standardized Vocabularies</a></li>
<li class="chapter" data-level="8" data-path="ExtractTransformLoad.html"><a href="ExtractTransformLoad.html"><i class="fa fa-check"></i><b>8</b> Extract Transform Load</a></li>
<li class="part"><span><b>III Data Analytics</b></span></li>
<li class="chapter" data-level="9" data-path="DataAnalyticsUseCases.html"><a href="DataAnalyticsUseCases.html"><i class="fa fa-check"></i><b>9</b> Data Analytics Use Cases</a><ul>
<li class="chapter" data-level="9.1" data-path="DataAnalyticsUseCases.html"><a href="DataAnalyticsUseCases.html#characterization"><i class="fa fa-check"></i><b>9.1</b> Characterization</a></li>
<li class="chapter" data-level="9.2" data-path="DataAnalyticsUseCases.html"><a href="DataAnalyticsUseCases.html#population-level-estimation"><i class="fa fa-check"></i><b>9.2</b> Population-level estimation</a></li>
<li class="chapter" data-level="9.3" data-path="DataAnalyticsUseCases.html"><a href="DataAnalyticsUseCases.html#patient-level-prediction"><i class="fa fa-check"></i><b>9.3</b> Patient-Level prediction</a></li>
<li class="chapter" data-level="9.4" data-path="DataAnalyticsUseCases.html"><a href="DataAnalyticsUseCases.html#limitations-of-observational-research"><i class="fa fa-check"></i><b>9.4</b> Limitations of observational research</a><ul>
<li class="chapter" data-level="9.4.1" data-path="DataAnalyticsUseCases.html"><a href="DataAnalyticsUseCases.html#missing-data"><i class="fa fa-check"></i><b>9.4.1</b> Missing data</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="DataAnalyticsUseCases.html"><a href="DataAnalyticsUseCases.html#summary-2"><i class="fa fa-check"></i><b>9.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html"><i class="fa fa-check"></i><b>10</b> OHDSI Analytics Tools</a><ul>
<li class="chapter" data-level="10.1" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#analysisImplementation"><i class="fa fa-check"></i><b>10.1</b> Analysis implementation</a></li>
<li class="chapter" data-level="10.2" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#analysis-strategy"><i class="fa fa-check"></i><b>10.2</b> Analysis strategy</a></li>
<li class="chapter" data-level="10.3" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#atlas"><i class="fa fa-check"></i><b>10.3</b> ATLAS</a><ul>
<li class="chapter" data-level="10.3.1" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#security"><i class="fa fa-check"></i><b>10.3.1</b> Security</a></li>
<li class="chapter" data-level="10.3.2" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#documentation"><i class="fa fa-check"></i><b>10.3.2</b> Documentation</a></li>
<li class="chapter" data-level="10.3.3" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#system-requirements"><i class="fa fa-check"></i><b>10.3.3</b> System requirements</a></li>
<li class="chapter" data-level="10.3.4" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#how-to-install"><i class="fa fa-check"></i><b>10.3.4</b> How to install</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#methods-library"><i class="fa fa-check"></i><b>10.4</b> Methods Library</a><ul>
<li class="chapter" data-level="10.4.1" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#support-for-large-scale-analytics"><i class="fa fa-check"></i><b>10.4.1</b> Support for large-scale analytics</a></li>
<li class="chapter" data-level="10.4.2" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#BigDataSupport"><i class="fa fa-check"></i><b>10.4.2</b> Support for big data</a></li>
<li class="chapter" data-level="10.4.3" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#documentation-1"><i class="fa fa-check"></i><b>10.4.3</b> Documentation</a></li>
<li class="chapter" data-level="10.4.4" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#system-requirements-1"><i class="fa fa-check"></i><b>10.4.4</b> System requirements</a></li>
<li class="chapter" data-level="10.4.5" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#installR"><i class="fa fa-check"></i><b>10.4.5</b> How to install</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#installing-java"><i class="fa fa-check"></i><b>10.5</b> Installing Java</a></li>
<li class="chapter" data-level="10.6" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#deployment-strategies"><i class="fa fa-check"></i><b>10.6</b> Deployment strategies</a><ul>
<li class="chapter" data-level="10.6.1" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#broadsea"><i class="fa fa-check"></i><b>10.6.1</b> Broadsea</a></li>
<li class="chapter" data-level="10.6.2" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#amazon-aws"><i class="fa fa-check"></i><b>10.6.2</b> Amazon AWS</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#summary-3"><i class="fa fa-check"></i><b>10.7</b> Summary</a></li>
<li class="chapter" data-level="10.8" data-path="OhdsiAnalyticsTools.html"><a href="OhdsiAnalyticsTools.html#exercises-1"><i class="fa fa-check"></i><b>10.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="SqlAndR.html"><a href="SqlAndR.html"><i class="fa fa-check"></i><b>11</b> SQL and R</a><ul>
<li class="chapter" data-level="11.1" data-path="SqlAndR.html"><a href="SqlAndR.html#SqlRender"><i class="fa fa-check"></i><b>11.1</b> SqlRender</a><ul>
<li class="chapter" data-level="11.1.1" data-path="SqlAndR.html"><a href="SqlAndR.html#sql-parameterization"><i class="fa fa-check"></i><b>11.1.1</b> SQL parameterization</a></li>
<li class="chapter" data-level="11.1.2" data-path="SqlAndR.html"><a href="SqlAndR.html#translation-to-other-sql-dialects"><i class="fa fa-check"></i><b>11.1.2</b> Translation to other SQL dialects</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="SqlAndR.html"><a href="SqlAndR.html#DatabaseConnector"><i class="fa fa-check"></i><b>11.2</b> DatabaseConnector</a><ul>
<li class="chapter" data-level="11.2.1" data-path="SqlAndR.html"><a href="SqlAndR.html#creating-a-connection"><i class="fa fa-check"></i><b>11.2.1</b> Creating a connection</a></li>
<li class="chapter" data-level="11.2.2" data-path="SqlAndR.html"><a href="SqlAndR.html#querying"><i class="fa fa-check"></i><b>11.2.2</b> Querying</a></li>
<li class="chapter" data-level="11.2.3" data-path="SqlAndR.html"><a href="SqlAndR.html#querying-using-ffdf-objects"><i class="fa fa-check"></i><b>11.2.3</b> Querying using ffdf objects</a></li>
<li class="chapter" data-level="11.2.4" data-path="SqlAndR.html"><a href="SqlAndR.html#querying-different-platforms-using-the-same-sql"><i class="fa fa-check"></i><b>11.2.4</b> Querying different platforms using the same SQL</a></li>
<li class="chapter" data-level="11.2.5" data-path="SqlAndR.html"><a href="SqlAndR.html#inserting-tables"><i class="fa fa-check"></i><b>11.2.5</b> Inserting tables</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="SqlAndR.html"><a href="SqlAndR.html#QueryTheCdm"><i class="fa fa-check"></i><b>11.3</b> Querying the CDM</a></li>
<li class="chapter" data-level="11.4" data-path="SqlAndR.html"><a href="SqlAndR.html#using-the-vocabulary-when-querying"><i class="fa fa-check"></i><b>11.4</b> Using the vocabulary when querying</a></li>
<li class="chapter" data-level="11.5" data-path="SqlAndR.html"><a href="SqlAndR.html#querylibrary"><i class="fa fa-check"></i><b>11.5</b> QueryLibrary</a></li>
<li class="chapter" data-level="11.6" data-path="SqlAndR.html"><a href="SqlAndR.html#designing-a-simple-study"><i class="fa fa-check"></i><b>11.6</b> Designing a simple study</a><ul>
<li class="chapter" data-level="11.6.1" data-path="SqlAndR.html"><a href="SqlAndR.html#problem-definition"><i class="fa fa-check"></i><b>11.6.1</b> Problem definition</a></li>
<li class="chapter" data-level="11.6.2" data-path="SqlAndR.html"><a href="SqlAndR.html#exposure"><i class="fa fa-check"></i><b>11.6.2</b> Exposure</a></li>
<li class="chapter" data-level="11.6.3" data-path="SqlAndR.html"><a href="SqlAndR.html#outcome"><i class="fa fa-check"></i><b>11.6.3</b> Outcome</a></li>
<li class="chapter" data-level="11.6.4" data-path="SqlAndR.html"><a href="SqlAndR.html#time-at-risk"><i class="fa fa-check"></i><b>11.6.4</b> Time-at-risk</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="SqlAndR.html"><a href="SqlAndR.html#implementing-the-study-using-sql-and-r"><i class="fa fa-check"></i><b>11.7</b> Implementing the study using SQL and R</a><ul>
<li class="chapter" data-level="11.7.1" data-path="SqlAndR.html"><a href="SqlAndR.html#exposure-cohort"><i class="fa fa-check"></i><b>11.7.1</b> Exposure cohort</a></li>
<li class="chapter" data-level="11.7.2" data-path="SqlAndR.html"><a href="SqlAndR.html#outcome-cohort"><i class="fa fa-check"></i><b>11.7.2</b> Outcome cohort</a></li>
<li class="chapter" data-level="11.7.3" data-path="SqlAndR.html"><a href="SqlAndR.html#incidence-rate-calculation"><i class="fa fa-check"></i><b>11.7.3</b> Incidence rate calculation</a></li>
<li class="chapter" data-level="11.7.4" data-path="SqlAndR.html"><a href="SqlAndR.html#clean-up"><i class="fa fa-check"></i><b>11.7.4</b> Clean up</a></li>
<li class="chapter" data-level="11.7.5" data-path="SqlAndR.html"><a href="SqlAndR.html#compatibility"><i class="fa fa-check"></i><b>11.7.5</b> Compatibility</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="SqlAndR.html"><a href="SqlAndR.html#summary-4"><i class="fa fa-check"></i><b>11.8</b> Summary</a></li>
<li class="chapter" data-level="11.9" data-path="SqlAndR.html"><a href="SqlAndR.html#exercises-2"><i class="fa fa-check"></i><b>11.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="Cohorts.html"><a href="Cohorts.html"><i class="fa fa-check"></i><b>12</b> Building the building blocks: cohorts</a></li>
<li class="chapter" data-level="13" data-path="Characterization.html"><a href="Characterization.html"><i class="fa fa-check"></i><b>13</b> Characterization</a></li>
<li class="chapter" data-level="14" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html"><i class="fa fa-check"></i><b>14</b> Population-level estimation</a><ul>
<li class="chapter" data-level="14.1" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#CohortMethod"><i class="fa fa-check"></i><b>14.1</b> The cohort method design</a><ul>
<li class="chapter" data-level="14.1.1" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#propensity-scores"><i class="fa fa-check"></i><b>14.1.1</b> Propensity scores</a></li>
<li class="chapter" data-level="14.1.2" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#VariableSelection"><i class="fa fa-check"></i><b>14.1.2</b> Variable selection</a></li>
<li class="chapter" data-level="14.1.3" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#caliper"><i class="fa fa-check"></i><b>14.1.3</b> Caliper</a></li>
<li class="chapter" data-level="14.1.4" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#overlap-preference-scores"><i class="fa fa-check"></i><b>14.1.4</b> Overlap: preference scores</a></li>
<li class="chapter" data-level="14.1.5" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#balance"><i class="fa fa-check"></i><b>14.1.5</b> Balance</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#the-self-controlled-cohort-design"><i class="fa fa-check"></i><b>14.2</b> The self-controlled cohort design</a></li>
<li class="chapter" data-level="14.3" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#the-case-control-design"><i class="fa fa-check"></i><b>14.3</b> The case-control design</a></li>
<li class="chapter" data-level="14.4" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#the-case-crossover-design"><i class="fa fa-check"></i><b>14.4</b> The case-crossover design</a></li>
<li class="chapter" data-level="14.5" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#the-self-controlled-case-series-design"><i class="fa fa-check"></i><b>14.5</b> The self-controlled case series design</a></li>
<li class="chapter" data-level="14.6" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#designing-a-hypertension-study"><i class="fa fa-check"></i><b>14.6</b> Designing a hypertension study</a><ul>
<li class="chapter" data-level="14.6.1" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#problem-definition-1"><i class="fa fa-check"></i><b>14.6.1</b> Problem definition</a></li>
<li class="chapter" data-level="14.6.2" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#target-and-comparator"><i class="fa fa-check"></i><b>14.6.2</b> Target and comparator</a></li>
<li class="chapter" data-level="14.6.3" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#outcome-1"><i class="fa fa-check"></i><b>14.6.3</b> Outcome</a></li>
<li class="chapter" data-level="14.6.4" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#time-at-risk-1"><i class="fa fa-check"></i><b>14.6.4</b> Time-at-risk</a></li>
<li class="chapter" data-level="14.6.5" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#model"><i class="fa fa-check"></i><b>14.6.5</b> Model</a></li>
<li class="chapter" data-level="14.6.6" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#study-summary"><i class="fa fa-check"></i><b>14.6.6</b> Study summary</a></li>
<li class="chapter" data-level="14.6.7" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#control-questions"><i class="fa fa-check"></i><b>14.6.7</b> Control questions</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#PleAtlas"><i class="fa fa-check"></i><b>14.7</b> Implementing the study using ATLAS</a><ul>
<li class="chapter" data-level="14.7.1" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#ComparisonSettings"><i class="fa fa-check"></i><b>14.7.1</b> Comparative cohort settings</a></li>
<li class="chapter" data-level="14.7.2" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#effect-estimation-analysis-settings"><i class="fa fa-check"></i><b>14.7.2</b> Effect estimation analysis settings</a></li>
<li class="chapter" data-level="14.7.3" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#evaluationSettings"><i class="fa fa-check"></i><b>14.7.3</b> Evaluation settings</a></li>
<li class="chapter" data-level="14.7.4" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#running-the-study-package"><i class="fa fa-check"></i><b>14.7.4</b> Running the study package</a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#pleR"><i class="fa fa-check"></i><b>14.8</b> Implementing the study using R</a><ul>
<li class="chapter" data-level="14.8.1" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#cohort-instantiation"><i class="fa fa-check"></i><b>14.8.1</b> Cohort instantiation</a></li>
<li class="chapter" data-level="14.8.2" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#data-extraction"><i class="fa fa-check"></i><b>14.8.2</b> Data extraction</a></li>
<li class="chapter" data-level="14.8.3" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#defining-the-study-population"><i class="fa fa-check"></i><b>14.8.3</b> Defining the study population</a></li>
<li class="chapter" data-level="14.8.4" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#propensity-scores-1"><i class="fa fa-check"></i><b>14.8.4</b> Propensity scores</a></li>
<li class="chapter" data-level="14.8.5" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#outcome-models"><i class="fa fa-check"></i><b>14.8.5</b> Outcome models</a></li>
<li class="chapter" data-level="14.8.6" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#MultipleAnalyses"><i class="fa fa-check"></i><b>14.8.6</b> Running multiple analyses</a></li>
</ul></li>
<li class="chapter" data-level="14.9" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#studyOutputs"><i class="fa fa-check"></i><b>14.9</b> Study outputs</a><ul>
<li class="chapter" data-level="14.9.1" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#propensity-scores-and-model"><i class="fa fa-check"></i><b>14.9.1</b> Propensity scores and model</a></li>
<li class="chapter" data-level="14.9.2" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#covariate-balance"><i class="fa fa-check"></i><b>14.9.2</b> Covariate balance</a></li>
<li class="chapter" data-level="14.9.3" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#follow-up-and-power"><i class="fa fa-check"></i><b>14.9.3</b> Follow up and power</a></li>
<li class="chapter" data-level="14.9.4" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#kaplan-meier"><i class="fa fa-check"></i><b>14.9.4</b> Kaplan Meier</a></li>
<li class="chapter" data-level="14.9.5" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#effect-size-estimate"><i class="fa fa-check"></i><b>14.9.5</b> Effect size estimate</a></li>
</ul></li>
<li class="chapter" data-level="14.10" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#summary-5"><i class="fa fa-check"></i><b>14.10</b> Summary</a></li>
<li class="chapter" data-level="14.11" data-path="PopulationLevelEstimation.html"><a href="PopulationLevelEstimation.html#excercises"><i class="fa fa-check"></i><b>14.11</b> Excercises</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html"><i class="fa fa-check"></i><b>15</b> Patient Level Prediction</a><ul>
<li class="chapter" data-level="15.1" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#introduction"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#progress"><i class="fa fa-check"></i><b>15.2</b> Current Progress in Patient-Level Prediction</a></li>
<li class="chapter" data-level="15.3" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#extracted"><i class="fa fa-check"></i><b>15.3</b> Creating Labelled Data</a></li>
<li class="chapter" data-level="15.4" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#supervised"><i class="fa fa-check"></i><b>15.4</b> Supervised learning</a><ul>
<li class="chapter" data-level="15.4.1" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#regularized-logistic-regression"><i class="fa fa-check"></i><b>15.4.1</b> Regularized Logistic Regression</a></li>
<li class="chapter" data-level="15.4.2" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#gradient-boosting-machines"><i class="fa fa-check"></i><b>15.4.2</b> Gradient boosting machines</a></li>
<li class="chapter" data-level="15.4.3" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#random-forest"><i class="fa fa-check"></i><b>15.4.3</b> Random forest</a></li>
<li class="chapter" data-level="15.4.4" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#k-nearest-neighbors"><i class="fa fa-check"></i><b>15.4.4</b> K-nearest neighbors</a></li>
<li class="chapter" data-level="15.4.5" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#naive-bayes"><i class="fa fa-check"></i><b>15.4.5</b> Naive Bayes</a></li>
<li class="chapter" data-level="15.4.6" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#adaboost"><i class="fa fa-check"></i><b>15.4.6</b> AdaBoost</a></li>
<li class="chapter" data-level="15.4.7" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#decision-tree"><i class="fa fa-check"></i><b>15.4.7</b> Decision Tree</a></li>
<li class="chapter" data-level="15.4.8" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#multilayer-perception"><i class="fa fa-check"></i><b>15.4.8</b> Multilayer Perception</a></li>
<li class="chapter" data-level="15.4.9" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#deep-learning"><i class="fa fa-check"></i><b>15.4.9</b> Deep Learning</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#evalaution"><i class="fa fa-check"></i><b>15.5</b> Evaluating Patient-Level Prediction Models</a><ul>
<li class="chapter" data-level="15.5.1" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#evaluation-types"><i class="fa fa-check"></i><b>15.5.1</b> Evaluation Types</a></li>
<li class="chapter" data-level="15.5.2" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#performance"><i class="fa fa-check"></i><b>15.5.2</b> Performance Metrics</a></li>
<li class="chapter" data-level="15.5.3" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#inspecting-the-model"><i class="fa fa-check"></i><b>15.5.3</b> Inspecting the model</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#specfifying-a-patient-level-prediction-study"><i class="fa fa-check"></i><b>15.6</b> Specfifying a Patient-level Prediction Study</a><ul>
<li class="chapter" data-level="15.6.1" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#problem-definition-2"><i class="fa fa-check"></i><b>15.6.1</b> Problem definition</a></li>
<li class="chapter" data-level="15.6.2" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#study-population-definition"><i class="fa fa-check"></i><b>15.6.2</b> Study population definition</a></li>
<li class="chapter" data-level="15.6.3" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#model-development-settings"><i class="fa fa-check"></i><b>15.6.3</b> Model development settings</a></li>
<li class="chapter" data-level="15.6.4" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#model-evaluation"><i class="fa fa-check"></i><b>15.6.4</b> Model evaluation</a></li>
<li class="chapter" data-level="15.6.5" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#study-summary-1"><i class="fa fa-check"></i><b>15.6.5</b> Study summary</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#implementing-the-study-in-atlas"><i class="fa fa-check"></i><b>15.7</b> Implementing the study in Atlas</a><ul>
<li class="chapter" data-level="15.7.1" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#introduction-1"><i class="fa fa-check"></i><b>15.7.1</b> Introduction</a></li>
<li class="chapter" data-level="15.7.2" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#the-atlas-layout"><i class="fa fa-check"></i><b>15.7.2</b> The Atlas layout</a></li>
<li class="chapter" data-level="15.7.3" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#atlas-specification-tab"><i class="fa fa-check"></i><b>15.7.3</b> Atlas Specification Tab</a></li>
<li class="chapter" data-level="15.7.4" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#prediction-problem-settings"><i class="fa fa-check"></i><b>15.7.4</b> Prediction Problem Settings</a></li>
<li class="chapter" data-level="15.7.5" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#analysis-settings"><i class="fa fa-check"></i><b>15.7.5</b> Analysis Settings</a></li>
<li class="chapter" data-level="15.7.6" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#model-settings"><i class="fa fa-check"></i><b>15.7.6</b> Model Settings</a></li>
<li class="chapter" data-level="15.7.7" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#covariate-settings"><i class="fa fa-check"></i><b>15.7.7</b> Covariate Settings</a></li>
<li class="chapter" data-level="15.7.8" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#population-settings"><i class="fa fa-check"></i><b>15.7.8</b> Population Settings</a></li>
<li class="chapter" data-level="15.7.9" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#execution-settings"><i class="fa fa-check"></i><b>15.7.9</b> Execution settings</a></li>
<li class="chapter" data-level="15.7.10" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#training-settings"><i class="fa fa-check"></i><b>15.7.10</b> Training settings</a></li>
<li class="chapter" data-level="15.7.11" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#atlas-utilities-tab"><i class="fa fa-check"></i><b>15.7.11</b> Atlas Utilities Tab</a></li>
<li class="chapter" data-level="15.7.12" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#how-to-importexport-study"><i class="fa fa-check"></i><b>15.7.12</b> How to import/export study</a></li>
<li class="chapter" data-level="15.7.13" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#how-to-download-package"><i class="fa fa-check"></i><b>15.7.13</b> How to download package</a></li>
<li class="chapter" data-level="15.7.14" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#building-atlas-created-prediction-study-r-package"><i class="fa fa-check"></i><b>15.7.14</b> Building Atlas created prediction study R package</a></li>
<li class="chapter" data-level="15.7.15" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#running-study"><i class="fa fa-check"></i><b>15.7.15</b> Running Study</a></li>
</ul></li>
<li class="chapter" data-level="15.8" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#implementing-the-study-in-r"><i class="fa fa-check"></i><b>15.8</b> Implementing the study in R</a><ul>
<li class="chapter" data-level="15.8.1" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#cohort-instantiation-1"><i class="fa fa-check"></i><b>15.8.1</b> Cohort instantiation</a></li>
<li class="chapter" data-level="15.8.2" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#data-extraction-1"><i class="fa fa-check"></i><b>15.8.2</b> Data extraction</a></li>
<li class="chapter" data-level="15.8.3" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#additional-inclusion-criteria"><i class="fa fa-check"></i><b>15.8.3</b> Additional inclusion criteria</a></li>
<li class="chapter" data-level="15.8.4" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#model-development"><i class="fa fa-check"></i><b>15.8.4</b> Model Development</a></li>
<li class="chapter" data-level="15.8.5" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#internal-validation"><i class="fa fa-check"></i><b>15.8.5</b> Internal Validation</a></li>
</ul></li>
<li class="chapter" data-level="15.9" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#exploring-a-single-plp-shiny-app"><i class="fa fa-check"></i><b>15.9</b> Exploring a single PLP Shiny App</a></li>
<li class="chapter" data-level="15.10" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#exploring-the-atlas-plp-shiny-app"><i class="fa fa-check"></i><b>15.10</b> Exploring the Atlas PLP Shiny App</a></li>
<li class="chapter" data-level="15.11" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#additional-patient-level-prediction-features"><i class="fa fa-check"></i><b>15.11</b> Additional Patient-level Prediction Features</a><ul>
<li class="chapter" data-level="15.11.1" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#journal-paper-generation"><i class="fa fa-check"></i><b>15.11.1</b> Journal paper generation</a></li>
</ul></li>
<li class="chapter" data-level="15.12" data-path="PatientLevelPrediction.html"><a href="PatientLevelPrediction.html#excercises-1"><i class="fa fa-check"></i><b>15.12</b> Excercises</a></li>
</ul></li>
<li class="part"><span><b>IV Evidence Quality</b></span></li>
<li class="chapter" data-level="16" data-path="EvidenceQuality.html"><a href="EvidenceQuality.html"><i class="fa fa-check"></i><b>16</b> Introduction to Evidence Quality</a></li>
<li class="chapter" data-level="17" data-path="DataQuality.html"><a href="DataQuality.html"><i class="fa fa-check"></i><b>17</b> Data Quality</a><ul>
<li class="chapter" data-level="17.1" data-path="DataQuality.html"><a href="DataQuality.html#introduction-2"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="DataQuality.html"><a href="DataQuality.html#achilles-heel-tool"><i class="fa fa-check"></i><b>17.2</b> Achilles Heel tool</a><ul>
<li class="chapter" data-level="17.2.1" data-path="DataQuality.html"><a href="DataQuality.html#precomputed-analyses"><i class="fa fa-check"></i><b>17.2.1</b> Precomputed Analyses</a></li>
<li class="chapter" data-level="17.2.2" data-path="DataQuality.html"><a href="DataQuality.html#example-dq-check"><i class="fa fa-check"></i><b>17.2.2</b> Example DQ check</a></li>
<li class="chapter" data-level="17.2.3" data-path="DataQuality.html"><a href="DataQuality.html#overview-of-existing-dq-heel-checks"><i class="fa fa-check"></i><b>17.2.3</b> Overview of existing DQ Heel checks</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="DataQuality.html"><a href="DataQuality.html#study-specific-checks"><i class="fa fa-check"></i><b>17.3</b> Study-specific checks</a><ul>
<li class="chapter" data-level="17.3.1" data-path="DataQuality.html"><a href="DataQuality.html#outcomes"><i class="fa fa-check"></i><b>17.3.1</b> Outcomes</a></li>
<li class="chapter" data-level="17.3.2" data-path="DataQuality.html"><a href="DataQuality.html#laboratory-data"><i class="fa fa-check"></i><b>17.3.2</b> Laboratory data</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="DataQuality.html"><a href="DataQuality.html#etl-unit-testing"><i class="fa fa-check"></i><b>17.4</b> ETL unit testing</a><ul>
<li class="chapter" data-level="17.4.1" data-path="DataQuality.html"><a href="DataQuality.html#unit-testing-framwork-in-rabbit-in-a-hat"><i class="fa fa-check"></i><b>17.4.1</b> Unit testing framwork in Rabbit-in-a-Hat</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="ClinicalValidity.html"><a href="ClinicalValidity.html"><i class="fa fa-check"></i><b>18</b> Clinical Validity</a></li>
<li class="chapter" data-level="19" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html"><i class="fa fa-check"></i><b>19</b> Software Validity</a><ul>
<li class="chapter" data-level="19.1" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#study-code-validity"><i class="fa fa-check"></i><b>19.1</b> Study code validity</a><ul>
<li class="chapter" data-level="19.1.1" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#automation"><i class="fa fa-check"></i><b>19.1.1</b> Automation as a requirement for reproducibility</a></li>
<li class="chapter" data-level="19.1.2" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#programming-best-practices"><i class="fa fa-check"></i><b>19.1.2</b> Programming best practices</a></li>
<li class="chapter" data-level="19.1.3" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#code-validation"><i class="fa fa-check"></i><b>19.1.3</b> Code validation</a></li>
<li class="chapter" data-level="19.1.4" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#using-the-methods-library"><i class="fa fa-check"></i><b>19.1.4</b> Using the Methods Library</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#methods-library-software-development-process"><i class="fa fa-check"></i><b>19.2</b> Methods Library software development process</a><ul>
<li class="chapter" data-level="19.2.1" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#source-code-management"><i class="fa fa-check"></i><b>19.2.1</b> Source Code Management</a></li>
<li class="chapter" data-level="19.2.2" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#documentation-2"><i class="fa fa-check"></i><b>19.2.2</b> Documentation</a></li>
<li class="chapter" data-level="19.2.3" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#availability-of-current-and-historical-archive-versions"><i class="fa fa-check"></i><b>19.2.3</b> Availability of Current and Historical Archive Versions</a></li>
<li class="chapter" data-level="19.2.4" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#maintenance-support-and-retirement"><i class="fa fa-check"></i><b>19.2.4</b> Maintenance, Support and Retirement</a></li>
<li class="chapter" data-level="19.2.5" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#qualified-personnel"><i class="fa fa-check"></i><b>19.2.5</b> Qualified Personnel</a></li>
<li class="chapter" data-level="19.2.6" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#physical-and-logical-security"><i class="fa fa-check"></i><b>19.2.6</b> Physical and Logical Security</a></li>
<li class="chapter" data-level="19.2.7" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#disaster-recovery"><i class="fa fa-check"></i><b>19.2.7</b> Disaster Recovery</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#methods-library-testing"><i class="fa fa-check"></i><b>19.3</b> Methods Library testing</a><ul>
<li class="chapter" data-level="19.3.1" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#unit-test"><i class="fa fa-check"></i><b>19.3.1</b> Unit test</a></li>
<li class="chapter" data-level="19.3.2" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#simulation"><i class="fa fa-check"></i><b>19.3.2</b> Simulation</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="SoftwareValidity.html"><a href="SoftwareValidity.html#summary-6"><i class="fa fa-check"></i><b>19.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="MethodValidity.html"><a href="MethodValidity.html"><i class="fa fa-check"></i><b>20</b> Method Validity</a><ul>
<li class="chapter" data-level="20.1" data-path="MethodValidity.html"><a href="MethodValidity.html#design-specific-diagnostics"><i class="fa fa-check"></i><b>20.1</b> Design-specific diagnostics</a></li>
<li class="chapter" data-level="20.2" data-path="MethodValidity.html"><a href="MethodValidity.html#diagnostics-for-all-estimation"><i class="fa fa-check"></i><b>20.2</b> Diagnostics for all estimation</a><ul>
<li class="chapter" data-level="20.2.1" data-path="MethodValidity.html"><a href="MethodValidity.html#NegativeControls"><i class="fa fa-check"></i><b>20.2.1</b> Negative controls</a></li>
<li class="chapter" data-level="20.2.2" data-path="MethodValidity.html"><a href="MethodValidity.html#PositiveControls"><i class="fa fa-check"></i><b>20.2.2</b> Positive controls</a></li>
<li class="chapter" data-level="20.2.3" data-path="MethodValidity.html"><a href="MethodValidity.html#metrics"><i class="fa fa-check"></i><b>20.2.3</b> Empirical evaluation</a></li>
<li class="chapter" data-level="20.2.4" data-path="MethodValidity.html"><a href="MethodValidity.html#p-value-calibration"><i class="fa fa-check"></i><b>20.2.4</b> P-value calibration</a></li>
<li class="chapter" data-level="20.2.5" data-path="MethodValidity.html"><a href="MethodValidity.html#confidence-interval-calibration"><i class="fa fa-check"></i><b>20.2.5</b> Confidence interval calibration</a></li>
<li class="chapter" data-level="20.2.6" data-path="MethodValidity.html"><a href="MethodValidity.html#replication-across-sites"><i class="fa fa-check"></i><b>20.2.6</b> Replication across sites</a></li>
<li class="chapter" data-level="20.2.7" data-path="MethodValidity.html"><a href="MethodValidity.html#sensitivity-analyses"><i class="fa fa-check"></i><b>20.2.7</b> Sensitivity analyses</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="MethodValidity.html"><a href="MethodValidity.html#method-validation-in-practice"><i class="fa fa-check"></i><b>20.3</b> Method validation in practice</a><ul>
<li class="chapter" data-level="20.3.1" data-path="MethodValidity.html"><a href="MethodValidity.html#selecting-negative-controls"><i class="fa fa-check"></i><b>20.3.1</b> Selecting negative controls</a></li>
<li class="chapter" data-level="20.3.2" data-path="MethodValidity.html"><a href="MethodValidity.html#including-controls"><i class="fa fa-check"></i><b>20.3.2</b> Including controls</a></li>
<li class="chapter" data-level="20.3.3" data-path="MethodValidity.html"><a href="MethodValidity.html#empirical-performance"><i class="fa fa-check"></i><b>20.3.3</b> Empirical performance</a></li>
<li class="chapter" data-level="20.3.4" data-path="MethodValidity.html"><a href="MethodValidity.html#p-value-calibration-1"><i class="fa fa-check"></i><b>20.3.4</b> P-value calibration</a></li>
<li class="chapter" data-level="20.3.5" data-path="MethodValidity.html"><a href="MethodValidity.html#confidence-interval-calibration-1"><i class="fa fa-check"></i><b>20.3.5</b> Confidence interval calibration</a></li>
<li class="chapter" data-level="20.3.6" data-path="MethodValidity.html"><a href="MethodValidity.html#between-database-heterogeneity"><i class="fa fa-check"></i><b>20.3.6</b> Between-database heterogeneity</a></li>
<li class="chapter" data-level="20.3.7" data-path="MethodValidity.html"><a href="MethodValidity.html#sensitivity-analyses-1"><i class="fa fa-check"></i><b>20.3.7</b> Sensitivity analyses</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="MethodValidity.html"><a href="MethodValidity.html#ohdsi-methods-benchmark"><i class="fa fa-check"></i><b>20.4</b> OHDSI Methods Benchmark</a></li>
<li class="chapter" data-level="20.5" data-path="MethodValidity.html"><a href="MethodValidity.html#summary-7"><i class="fa fa-check"></i><b>20.5</b> Summary</a></li>
<li class="chapter" data-level="20.6" data-path="MethodValidity.html"><a href="MethodValidity.html#exercises-3"><i class="fa fa-check"></i><b>20.6</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>V OHDSI Studies</b></span></li>
<li class="chapter" data-level="21" data-path="StudySteps.html"><a href="StudySteps.html"><i class="fa fa-check"></i><b>21</b> Study steps</a></li>
<li class="chapter" data-level="22" data-path="NetworkResearch.html"><a href="NetworkResearch.html"><i class="fa fa-check"></i><b>22</b> OHDSI Network Research</a><ul>
<li class="chapter" data-level="22.1" data-path="NetworkResearch.html"><a href="NetworkResearch.html#ohdsi-network-study-examples"><i class="fa fa-check"></i><b>22.1</b> OHDSI Network Study Examples</a><ul>
<li class="chapter" data-level="22.1.1" data-path="NetworkResearch.html"><a href="NetworkResearch.html#endometriosis-study"><i class="fa fa-check"></i><b>22.1.1</b> Endometriosis study</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="NetworkResearch.html"><a href="NetworkResearch.html#excercises-2"><i class="fa fa-check"></i><b>22.2</b> Excercises</a><ul>
<li class="chapter" data-level="22.2.1" data-path="NetworkResearch.html"><a href="NetworkResearch.html#defining-a-cohort"><i class="fa fa-check"></i><b>22.2.1</b> Defining a cohort</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="Glossary.html"><a href="Glossary.html"><i class="fa fa-check"></i><b>A</b> Glossary</a></li>
<li class="chapter" data-level="B" data-path="CohortDefinitions.html"><a href="CohortDefinitions.html"><i class="fa fa-check"></i><b>B</b> Cohort definitions</a><ul>
<li class="chapter" data-level="B.1" data-path="CohortDefinitions.html"><a href="CohortDefinitions.html#AceInhibitors"><i class="fa fa-check"></i><b>B.1</b> ACE inhibitors</a></li>
<li class="chapter" data-level="B.2" data-path="CohortDefinitions.html"><a href="CohortDefinitions.html#AceInhibitorsMono"><i class="fa fa-check"></i><b>B.2</b> New users of ACE inhibitors as first-line monotherapy for hypertension</a></li>
<li class="chapter" data-level="B.3" data-path="CohortDefinitions.html"><a href="CohortDefinitions.html#Ami"><i class="fa fa-check"></i><b>B.3</b> Acute myocardial infarction (AMI)</a></li>
<li class="chapter" data-level="B.4" data-path="CohortDefinitions.html"><a href="CohortDefinitions.html#Angioedema"><i class="fa fa-check"></i><b>B.4</b> Angioedema</a></li>
<li class="chapter" data-level="B.5" data-path="CohortDefinitions.html"><a href="CohortDefinitions.html#ThiazidesMono"><i class="fa fa-check"></i><b>B.5</b> New users of Thiazide-like diuretics as first-line monotherapy for hypertension</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="NegativeControlsAppendix.html"><a href="NegativeControlsAppendix.html"><i class="fa fa-check"></i><b>C</b> Negative controls</a><ul>
<li class="chapter" data-level="C.1" data-path="NegativeControlsAppendix.html"><a href="NegativeControlsAppendix.html#AceiThzNsc"><i class="fa fa-check"></i><b>C.1</b> ACEi and THZ</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="SuggestedAnswers.html"><a href="SuggestedAnswers.html"><i class="fa fa-check"></i><b>D</b> Suggested Answers</a><ul>
<li class="chapter" data-level="D.1" data-path="SuggestedAnswers.html"><a href="SuggestedAnswers.html#sql-and-r"><i class="fa fa-check"></i><b>D.1</b> SQL and R</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Book of OHDSI</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="CommonDataModel" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> The Common Data Model</h1>
<p><em>Chapter lead: Clair Blacketer</em></p>
<p>No single observational data source provides a comprehensive view of the clinical data a patient accumulates while receiving healthcare, and therefore none can be sufficient to meet all expected outcome analysis needs. This explains the need for assessing and analyzing multiple data sources concurrently using a common data standard. This standard is provided by the OMOP Common Data Model (CDM).</p>
<p>The CDM is designed to support the conduct of research to identify and evaluate associations between interventions (drug exposure, procedures, healthcare policy changes etc.) and outcomes caused by these interventions (condition occurrences, procedures, drug exposure etc.). Outcomes can be efficacious (benefit) or adverse (safety risk). Often times, specific patient cohorts (e.g., those taking a certain drug or suffering from a certain disease) may be defined for treatments or outcomes, using clinical events (diagnoses, observations, procedures, etc.) that occur in predefined temporal relationships to each other. The CDM, combined with its standardized content (via the Standardized Vocabularies), will ensure that research methods can be systematically applied to produce meaningfully comparable and reproducible results.</p>
<p>An overview of all the tables in the CDM is provided in Figure <a href="CommonDataModel.html#fig:cdmDiagram">6.1</a>.</p>
<div class="figure"><span id="fig:cdmDiagram"></span>
<img src="images/CommonDataModel/cdmDiagram.png" alt="Overview of all tables in the CDM version 6.0. Note that not all relationships between tables are shown." width="100%" />
<p class="caption">
Figure 6.1: Overview of all tables in the CDM version 6.0. Note that not all relationships between tables are shown.
</p>
</div>
<div id="design-principles" class="section level2">
<h2><span class="header-section-number">6.1</span> Design Principles</h2>
<p>The CDM is designed to include all observational health data elements (experiences of the patient receiving health care) that are relevant for analysis use cases to support the generation of reliable scientific evidence about disease natural history, healthcare delivery, effects of medical interventions, the identification of demographic information, health care interventions and outcomes.</p>
<p>Therefore, the CDM is designed to store observational data to allow for research, under the following principles:</p>
<ul>
<li><strong>Suitability for purpose</strong>: The CDM aims to provide data organized in a way optimal for analysis, rather than for the purpose of addressing the operational needs of health care providers or payers.</li>
<li><strong>Data protection</strong>: All data that might jeopardize the identity and protection of patients, such as names, precise birthdays etc. are limited. Exceptions are possible where the research expressly requires more detailed information, such as precise birth dates for the study of infants.</li>
<li><strong>Design of domains</strong>: The domains are modeled in a person-centric relational data model, where for each record the identity of the person and a date is captured as a minimum.</li>
<li><strong>Rationale for domains</strong>: Domains are identified and separately defined in an entity-relationship model if they have an analysis use case and the domain has specific attributes that are not otherwise applicable. All other data can be preserved as an observation in an entity-attribute-value structure.</li>
<li><strong>Standardized Vocabularies</strong>: To standardize the content of those records, the CDM relies on the Standardized Vocabularies containing all necessary and appropriate corresponding standard healthcare concepts.</li>
<li><strong>Reuse of existing vocabularies</strong>: If possible, these concepts are leveraged from national or industry standardization or vocabulary definition organizations or initiatives, such as the National Library of Medicine, the Department of Veterans’ Affairs, the Center of Disease Control and Prevention, etc.</li>
<li><strong>Maintaining source codes</strong>: Even though all codes are mapped to the Standardized Vocabularies, the model also stores the original source code to ensure no information is lost.</li>
<li><strong>Technology neutrality</strong>: The CDM does not require a specific technology. It can be realized in any relational database, such as Oracle, SQL Server etc., or as SAS analytical datasets.</li>
<li><strong>Scalability</strong>: The CDM is optimized for data processing and computational analysis to accommodate data sources that vary in size, including databases with up to hundreds of millions of persons and billions of clinical observations.</li>
<li><strong>Backwards compatibility</strong>: All changes from previous CDMs are clearly delineated in the github repository <a href="https://github.com/OHDSI/CommonDataModel">(https://github.com/OHDSI/CommonDataModel)</a>. Older versions of the CDM can be easily created from the CDMv5, and no information is lost that was present previously.</li>
</ul>
</div>
<div id="data-model-conventions" class="section level2">
<h2><span class="header-section-number">6.2</span> Data Model Conventions</h2>
<p>There are a number of implicit and explicit conventions that have been adopted in the CDM. Developers of methods that run against the CDM need to understand these conventions.</p>
<div id="model-conv" class="section level3">
<h3><span class="header-section-number">6.2.1</span> General conventions of the model</h3>
<p>The OMOP CDM is considered a “person-centric” model, meaning that the people (or patients) drive the event and observation tables. At a minimum, the tables have a foreign key into the PERSON table and a date. This allows for a longitudinal view on all healthcare-relevant events by person. The exceptions from this rule are the standardized health system data tables, which are linked directly to events of the various domains.</p>
</div>
<div id="general-conventions-of-schemas" class="section level3">
<h3><span class="header-section-number">6.2.2</span> General conventions of schemas</h3>
<p>New to CDM v6.0 is the concept of schemas. This allows for more separation between read-only and writeable tables. The clinical data, event, and vocabulary tables are in the “CDM” schema and are considered read-only to the end user. This means that the tables can be queried but no information can be accidentally removed or written over except by the database administrator. Tables that need to be manipulated by web-based tools or end users have moved to the “Results” schema. Currently the only two tables in the “Results” schema are COHORT and COHORT_DEFINITON, <strong>Todo: add a sentence explaining that these tables describe groups of interest that the user might define, put in links to the later sections</strong> though likely more will be added over the course of v6.0 point releases. These tables can be written to, meaning that a cohort created in ATLAS or by a user can be stored in the COHORT table and accessed at a later date. This does mean that cohorts in the COHORT table can be manipulated by anyone so it is always recommended that the SQL code used to create the cohort be saved along with the project or analysis in the event it needs to be regenerated.</p>
</div>
<div id="general-conventions-of-data-tables" class="section level3">
<h3><span class="header-section-number">6.2.3</span> General conventions of data tables</h3>
<p>The CDM is platform-independent. Data types are defined generically using ANSI SQL data types (VARCHAR, INTEGER, FLOAT, DATE, DATETIME, CLOB). Precision is provided only for VARCHAR. It reflects the minimal required string length and can be expanded within a CDM instantiation. The CDM does not prescribe the date and datetime format. Standard queries against CDM may vary for local instantiations and date/datetime configurations.</p>
<p>In most cases, the first field in each table ends in "_id", containing a record identifier that can be used as a foreign key in another table. For example, the CONDITION_OCCURRENCE table contains the field visit_occurrence_id which is a foreign key to the VISIT_OCCURRENCE table where visit_occurrence_id is the primary key.</p>
</div>
<div id="general-conventions-of-fields" class="section level3">
<h3><span class="header-section-number">6.2.4</span> General conventions of fields</h3>
<p>Variable names across all tables follow one convention:</p>
<table>
<caption><span id="tab:fieldConventions">Table 6.1: </span> Field name conventions.</caption>
<colgroup>
<col width="35%" />
<col width="64%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Notation</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">[entity]_id</td>
<td align="left">Unique identifiers for key entities, which can serve as foreign keys to establish relationships across entities. For example, person_id uniquely identifies each individual. visit_occurrence_id uniquely identifies a PERSON encounter at a point of care.</td>
</tr>
<tr class="even">
<td align="left">[entity]_source_value</td>
<td align="left">Verbatim information from the source data, typically used in ETL to map to concept_id, and not to be used by any standard analytics. For example, condition_source_value = ‘787.02’ was the ICD-9 code captured as a diagnosis from the administrative claim.</td>
</tr>
<tr class="odd">
<td align="left">[entity]_concept_id</td>
<td align="left">Foreign key into the Standardized Vocabularies (i.e. the standard concept attribute for the corresponding term is true), which serves as the primary basis for all standardized analytics. For example, condition_concept_id = <a href="http://athena.ohdsi.org/search-terms/terms/31967">31967</a> contains the reference value for the SNOMED concept of “Nausea”.</td>
</tr>
<tr class="even">
<td align="left">[entity]_source_concept_id</td>
<td align="left">Foreign key into the Standardized Vocabularies representing the concept and terminology used in the source data, when applicable. For example, condition_source_concept_id = <a href="http://athena.ohdsi.org/search-terms/terms/45431665">45431665</a> denotes the concept of “Nausea” in the Read terminology; the analogous condition_concept_id is <a href="http://athena.ohdsi.org/search-terms/terms/31967">31967</a>, since SNOMED-CT is the Standardized Vocabulary for most clinical diagnoses and findings.</td>
</tr>
<tr class="odd">
<td align="left">[entity]_type_concept_id</td>
<td align="left">Delineates the origin of the source information, standardized within the Standardized Vocabularies. For example, drug_type_concept_id can allow analysts to discriminate between “Pharmacy dispensing” and “Prescription written”</td>
</tr>
</tbody>
</table>
</div>
<div id="representation-of-content-through-concepts" class="section level3">
<h3><span class="header-section-number">6.2.5</span> Representation of content through Concepts</h3>
<p>In CDM data tables the content of each record is represented using Concepts. Concepts are stored in event tables with their concept IDs as foreign keys to the CONCEPT table, which contains concepts necessary to describe the healthcare experience of a patient. If a Standard Concept does not exist or cannot be identified, the concept ID 0 is used, representing a non-existing concept or un-mappable source value.</p>
<p>Records in the CONCEPT table contain detailed information about each concept (name, domain, class etc.). Concepts, Concept Relationships, Concept Ancestors and other information relating to Concepts is contained in the tables of the Standardized Vocabularies.</p>
</div>
<div id="difference-between-concept-ids-and-source-values" class="section level3">
<h3><span class="header-section-number">6.2.6</span> Difference between Concept IDs and Source Values</h3>
<p>Many tables contain equivalent information in multiple places: As a Source Value, a Source Concept and as a Standard Concept.</p>
<ul>
<li><strong>Source Values</strong> contain the codes from public code systems such as ICD-9-CM, NDC, CPT-4, READ etc. or locally controlled vocabularies (such as F for female and M for male) copied from the source data. Source Values are stored in the [entity]_source_value fields in the data tables.</li>
<li><strong>Concepts</strong> are CDM-specific entities that represent the meaning of a clinical fact. Most concepts are based on code systems used in healthcare (called Source Concepts), while others were created de-novo (concept_code = “OMOP generated”). Concepts have unique IDs across all domains.</li>
<li><strong>Source Concepts</strong> are the concepts that represent the code used in the source. Source Concepts are only used for common healthcare code systems, not for OMOP-generated Concepts. Source Concepts are stored in the [entity]_source_concept_id field in the data tables.</li>
<li><strong>Standard Concepts</strong> are those concepts that are used to define the unique meaning of a clinical entity. For each entity there is one Standard Concept. Standard Concepts are typically drawn from existing public vocabulary sources. Concepts that have the equivalent meaning to a Standard Concept are mapped to the Standard Concept. Standard Concepts are referred to in the [entity]_concept_id field of the data tables.</li>
</ul>
<p>Source Values are only provided for convenience and quality assurance (QA) purposes. Source Values and Source Concepts are optional, while <strong>Standard Concepts are mandatory</strong>. Source Values may contain information that is only meaningful in the context of a specific data source. This mandatory use of Standard Concepts is what allows all OHDSI collaborators to speak the same language. For example, let’s look at the condition “Pulmonary Tuberculosis” (TB). Figure <a href="CommonDataModel.html#fig:pulmTubICD9">6.2</a> shows that the ICD9CM code for TB is 011.</p>
<div class="figure" style="text-align: center"><span id="fig:pulmTubICD9"></span>
<img src="images/CommonDataModel/pulmTubICD9.png" alt="ICD9CM code for Pulmonary Tuberculosis" width="75%" />
<p class="caption">
Figure 6.2: ICD9CM code for Pulmonary Tuberculosis
</p>
</div>
<p>Without the use of a standard way to represent TB the code 011 could be interpreted as “Hospital Inpatient (Including Medicare Part A)” in the UB04 vocabulary, or as “Nervous System Neoplasms without Complications, Comorbidities” in the DRG vocabulary. This is where Concept IDs, both Source and Standard, are valuable. The Concept ID that represents the 011 ICD9CM code is <a href="http://athena.ohdsi.org/search-terms/terms/44828631">44828631</a>. This differentiates the ICD9CM from the UBO4 and from the DRG. The Standard Concept that ICD9CM code maps to is <a href="http://athena.ohdsi.org/search-terms/terms/253954">253954</a> as shown in figure <a href="CommonDataModel.html#fig:pulmTubMap">6.3</a> by the relationship “Non-standard to Standard map (OMOP)”. This same mapping relationship exists between Read, ICD10, CIEL, and MeSH codes, among others, so that any research that references the standard SNOMED concept is sure to include all supported source codes.</p>
<div class="figure"><span id="fig:pulmTubMap"></span>
<img src="images/CommonDataModel/pulmTubMap.png" alt="SNOMED code for Pulmonary Tuberculosis" width="100%" />
<p class="caption">
Figure 6.3: SNOMED code for Pulmonary Tuberculosis
</p>
</div>
<!-- #TODO -->
<p>An example of how this relationship is depicted in the tables is shown in Table <a href="CommonDataModel.html#tab:conditionOccurrence">6.6</a>.
<!-- #TODO --></p>
</div>
</div>
<div id="omop-cdm-standardized-tables" class="section level2">
<h2><span class="header-section-number">6.3</span> OMOP CDM Standardized Tables</h2>
<p>The OMOP CDM contains 16 Clinical data tables, 10 Vocabulary tables, 2 Metadata tables, 4 Health System data tables, 2 Health Economics data tables, 3 standardized derived elements, and 2 results schema tables. These tables are fully specified in the CDM Wiki<a href="references.html#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>.</p>
<p>To illustrate how these tables are used in practice the data of one person will be used as a common thread throughout the rest of the chapter. While part of the CDM the Vocabulary tables are not covered here, rather, they are detailed in depth in Chapter <a href="StandardizedVocabularies.html#StandardizedVocabularies">7</a>.</p>
<div id="running-example-endometriosis" class="section level3">
<h3><span class="header-section-number">6.3.1</span> Running Example: Endometriosis</h3>
<p>Endometriosis is a painful condition whereby cells normally found in the lining of a woman’s uterus occur elsewhere in the body. Severe cases can lead to infertility, bowel, and bladder problems. The following sections will detail one patient’s experience with this disease and how her clinical experience might be represented in the Common Data Model.</p>
<p><img src="images/CommonDataModel/Lauren.jpg" width="50%" style="display: block; margin: auto;" /></p>
<blockquote>
<p>Every step of this painfull journey I had to convince everyone how much pain I was in.</p>
</blockquote>
<p>Lauren had been experiencing endometriosis symptoms for many year; however, it took a ruptured cyst in her ovary before she was diagnosed. You can read more about Lauren at <a href="https://www.endometriosis-uk.org/laurens-story">https://www.endometriosis-uk.org/laurens-story</a>.</p>
</div>
<div id="person" class="section level3">
<h3><span class="header-section-number">6.3.2</span> PERSON table</h3>
<p>As the Common Data Model is a person-centric model (see section <a href="CommonDataModel.html#model-conv">6.2.1</a>) let’s start with how she would be represented in the PERSON table.</p>
<p><strong>What do we know about Lauren?</strong></p>
<ul>
<li>She is a 36-year-old woman</li>
<li>Her birthday is 12-March-1982</li>
<li>She is white</li>
<li>She is english</li>
</ul>
<p>With that in mind, her PERSON table might look something like this:</p>
<table>
<caption><span id="tab:person">Table 6.2: </span> The PERSON table.</caption>
<colgroup>
<col width="30%" />
<col width="16%" />
<col width="53%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Column name</th>
<th align="left">Value</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">person_id</td>
<td align="left">1</td>
<td align="left">person_id should be an integer, either directly from the source or generated as part of the build process.</td>
</tr>
<tr class="even">
<td align="left">gender_concept_id</td>
<td align="left">8532</td>
<td align="left">The concept ID referring to female gender is <a href="http://athena.ohdsi.org/search-terms/terms/8532">8532</a>.</td>
</tr>
<tr class="odd">
<td align="left">year_of_birth</td>
<td align="left">1982</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">month_of_birth</td>
<td align="left">3</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">day_of_birth</td>
<td align="left">12</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">birth_datetime</td>
<td align="left">1982-03-12 00:00:00</td>
<td align="left">When the time is not known midnight is used.</td>
</tr>
<tr class="odd">
<td align="left">death_datetime</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">race_concept_id</td>
<td align="left">8527</td>
<td align="left">The concept ID referring to white race is <a href="http://athena.ohdsi.org/search-terms/terms/8527">8527</a>.</td>
</tr>
<tr class="odd">
<td align="left">ethnicity_concept_ id</td>
<td align="left">38003564</td>
<td align="left">Typically hispanic status is stored for ethnicity. The concept ID <a href="http://athena.ohdsi.org/search-terms/terms/38003564">38003564</a> refers to “Not hispanic”.</td>
</tr>
<tr class="even">
<td align="left">location_id</td>
<td align="left"></td>
<td align="left">Her address is not known.</td>
</tr>
<tr class="odd">
<td align="left">provider_id</td>
<td align="left"></td>
<td align="left">Her primary care provider is not known.</td>
</tr>
<tr class="even">
<td align="left">care_site_id</td>
<td align="left"></td>
<td align="left">Her primary care site is not known.</td>
</tr>
<tr class="odd">
<td align="left">person_source_value</td>
<td align="left">1</td>
<td align="left">Typically this would be her identifier in the source data, though often is it the same as the person_id.</td>
</tr>
<tr class="even">
<td align="left">gender_source_value</td>
<td align="left">F</td>
<td align="left">The gender value as it appears in the source is stored here.</td>
</tr>
<tr class="odd">
<td align="left">gender_source_ concept_id</td>
<td align="left">0</td>
<td align="left">If the gender value in the source was coded using a vocabulary recognized by OHDSI, that concept ID would go here. For example, if her gender was “Sex-F” in the source and it was stated to be in the PCORNet vocabulary concept ID <a href="http://athena.ohdsi.org/search-terms/terms/44814665">44814665</a> would go in this field.</td>
</tr>
<tr class="even">
<td align="left">race_source_value</td>
<td align="left">white</td>
<td align="left">The race value as it appears in the source is stored here.</td>
</tr>
<tr class="odd">
<td align="left">race_source_concept_ id</td>
<td align="left">0</td>
<td align="left">Same principle as gender_source_concept_id.</td>
</tr>
<tr class="even">
<td align="left">ethnicity_source_ value</td>
<td align="left">english</td>
<td align="left">The ethnicity value as it appears in the source is stored here.</td>
</tr>
<tr class="odd">
<td align="left">ethnicity_source_ concept_id</td>
<td align="left">0</td>
<td align="left">Same principle as gender_source_concept_id.</td>
</tr>
</tbody>
</table>
</div>
<div id="observationPeriod" class="section level3">
<h3><span class="header-section-number">6.3.3</span> OBSERVATION_PERIOD table</h3>
<p>The OBSERVATION_PERIOD table is designed to define the amount of time for which a patient’s clinical events are recorded in the source system. For US healthcare insurance claims this is typically the enrollment period of the patient. When working with data from electronic health records (EHR) often the first record in the system is considered the observation_period_start_date and the latest record is considered the observation_period_end_date with the understanding that only the clinical events that happened within that particular system were recorded.</p>
<p><strong>How can we determine Lauren’s observation period?</strong></p>
<p>Lauren’s information as shown in Table <a href="CommonDataModel.html#tab:encounters">6.3</a> is most similar to EHR data in that we only have records of her encounters from which to determine her observation period.</p>
<table>
<caption><span id="tab:encounters">Table 6.3: </span> Lauren’s healthcare encounters.</caption>
<thead>
<tr class="header">
<th align="left">Encounter ID</th>
<th align="left">Start date</th>
<th align="left">Stop date</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">70</td>
<td align="left">2010-01-06</td>
<td align="left">2010-01-06</td>
<td align="left">outpatient</td>
</tr>
<tr class="even">
<td align="left">80</td>
<td align="left">2011-01-06</td>
<td align="left">2011-01-06</td>
<td align="left">outpatient</td>
</tr>
<tr class="odd">
<td align="left">90</td>
<td align="left">2012-01-06</td>
<td align="left">2012-01-06</td>
<td align="left">outpatient</td>
</tr>
<tr class="even">
<td align="left">100</td>
<td align="left">2013-01-07</td>
<td align="left">2013-01-07</td>
<td align="left">outpatient</td>
</tr>
<tr class="odd">
<td align="left">101</td>
<td align="left">2013-01-14</td>
<td align="left">2013-01-14</td>
<td align="left">ambulatory</td>
</tr>
<tr class="even">
<td align="left">102</td>
<td align="left">2013-01-17</td>
<td align="left">2013-01-24</td>
<td align="left">inpatient</td>
</tr>
</tbody>
</table>
<p>Based on the encounter records her OBSERVATION_PERIOD table might look something like this:</p>
<table>
<caption><span id="tab:observationPeriod">Table 6.4: </span> The OBSERVATION_PERIOD table.</caption>
<colgroup>
<col width="30%" />
<col width="16%" />
<col width="53%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Column name</th>
<th align="left">Value</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">observation_period_ id</td>
<td align="left">1</td>
<td align="left">This is typically an autogenerated field that creates a unique ID number for each record in the table.</td>
</tr>
<tr class="even">
<td align="left">person_id</td>
<td align="left">1</td>
<td align="left">This comes from the PERSON table and links PERSON and OBSERVATION_PERIOD.</td>
</tr>
<tr class="odd">
<td align="left">observation_period_ start_date</td>
<td align="left">2010-01-06</td>
<td align="left">This is the start date of her earliest encounter on record.</td>
</tr>
<tr class="even">
<td align="left">observation_period_ end_date</td>
<td align="left">2013-01-24</td>
<td align="left">This is the end date of her latest encounter on record.</td>
</tr>
<tr class="odd">
<td align="left">period_type_ concept_id</td>
<td align="left">44814725</td>
<td align="left">The best option in the Vocabulary with the concept class “Obs Period Type” is <a href="http://athena.ohdsi.org/search-terms/terms/44814724">44814724</a>, which stands for “Period covering healthcare encounters”.</td>
</tr>
</tbody>
</table>
</div>
<div id="visitOccurrence" class="section level3">
<h3><span class="header-section-number">6.3.4</span> VISIT_OCCURRENCE</h3>
<p>The VISIT_OCCURRENCE table houses information about a patient’s encounters with the health care system. Within the OHDSI vernacular these are referred to as visits and are considered to be discreet events. There are 12 categories of visits though the most common are inpatient, outpatient, emergency and long term care.</p>
<p><strong>How do we represent Lauren’s encounters as visits?</strong></p>
<p>As an example let’s represent the inpatient encounter in Table <a href="CommonDataModel.html#tab:encounters">6.3</a> as a record in the VISIT_OCCURRENCE table.</p>
<table>
<caption><span id="tab:visitOccurrence">Table 6.5: </span> The VISIT_OCCURRENCE table.</caption>
<colgroup>
<col width="30%" />
<col width="16%" />
<col width="53%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Column name</th>
<th align="left">Value</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">visit_occurrence_id</td>
<td align="left">514</td>
<td align="left">This is typically an autogenerated field that creates a unique ID number for each visit on the person’s record in the converted CDM database.</td>
</tr>
<tr class="even">
<td align="left">person_id</td>
<td align="left">1</td>
<td align="left">This comes from the PERSON table and links PERSON and VISIT_OCCURRENCE.</td>
</tr>
<tr class="odd">
<td align="left">visit_concept_id</td>
<td align="left">9201</td>
<td align="left">The concept ID referring to an inpatient visit is <a href="http://athena.ohdsi.org/search-terms/terms/9201">9201</a>.</td>
</tr>
<tr class="even">
<td align="left">visit_start_date</td>
<td align="left">2013-01-17</td>
<td align="left">The start date of the visit.</td>
</tr>
<tr class="odd">
<td align="left">visit_start_datetime</td>
<td align="left">2013-01-17 00:00:00</td>
<td align="left">The date and time of the visit started. When time is unknown midnight is used.</td>
</tr>
<tr class="even">
<td align="left">visit_end_date</td>
<td align="left">2013-01-24</td>
<td align="left">The end date of the visit. If this is a one-day visit the end date should match the start date.</td>
</tr>
<tr class="odd">
<td align="left">visit_end_datetime</td>
<td align="left">2013-01-24 00:00:00</td>
<td align="left">The date and time of the visit end. If time is unknown midnight is used.</td>
</tr>
<tr class="even">
<td align="left">visit_type_concept_ id</td>
<td align="left">32034</td>
<td align="left">This column is intended to provide information about the provenance of the visit record, i.e. does it come from an insurance claim, hospital billing record, EHR record, etc. For this example the concept ID <a href="http://athena.ohdsi.org/search-terms/terms/32035">32035</a> (“Visit derived from EHR encounter record”) is used as the encounters are similar to electronic health records</td>
</tr>
<tr class="odd">
<td align="left">provider_id*</td>
<td align="left">NULL</td>
<td align="left">If the encounter record has a provider associated, the ID for that provider goes in this field. This should be the provider_id from the PROVIDER table that represents the provider on the encounter.</td>
</tr>
<tr class="even">
<td align="left">care_site_id</td>
<td align="left">NULL</td>
<td align="left">If the encounter record has a care site associated, the ID for that care site goes in this field. This should be the care_site_id from the CARE_SITE table that codes for the care site on the encounter.</td>
</tr>
<tr class="odd">
<td align="left">visit_source_value</td>
<td align="left">inpatient</td>
<td align="left">The visit value as it appears in the source goes here. In this context “visit” means outpatient, inpatient, emergency, etc.</td>
</tr>
<tr class="even">
<td align="left">visit_source_ concept_id</td>
<td align="left">0</td>
<td align="left">If the visit value from the source is coded using a vocabulary that is recognized by OHDSI, the concept ID that represents the visit source value would go here.</td>
</tr>
<tr class="odd">
<td align="left">admitted_from_ concept_id</td>
<td align="left">0</td>
<td align="left">If known, this is the concept ID that represents where the patient was admitted from. This concept should have the concept class “Place of Service” and the domain “Visit”. For example, if a patient was admitted to the hospital from home, the concept ID would be <a href="http://athena.ohdsi.org/search-terms/terms/8536">8536</a> (“Home”).</td>
</tr>
<tr class="even">
<td align="left">admitted_from_ source_ value</td>
<td align="left">NULL</td>
<td align="left">This is the value from the source that represents where the patient was admitted from. Using the above example, this would be “home”.</td>
</tr>
<tr class="odd">
<td align="left">discharge_to_ concept_id</td>
<td align="left">0</td>
<td align="left">If known, this is the concept ID that represents where the patient was discharged to. This concept should have the concept class “Place of Service” and the domain “Visit”. For example, if a patient was released to an assisted living facility, the concept ID would be <a href="http://athena.ohdsi.org/search-terms/terms/8615">8615</a> (“Assisted Living Facility”).</td>
</tr>
<tr class="even">
<td align="left">discharge_to_source_ value</td>
<td align="left">0</td>
<td align="left">This is the value from the source that represents where the patient was discharged to. Using the above example, this would be “assisted living facility”.</td>
</tr>
<tr class="odd">
<td align="left">preceding_visit_ occurrence_id</td>
<td align="left">NULL</td>
<td align="left">The visit_occurrence_id for the visit immediately preceding the current one in time for the patient.</td>
</tr>
</tbody>
</table>
<p>*A patient may interact with multiple health care providers during one visit, as is often the case with inpatient stays. These interactions can be recorded in the VISIT_DETAIL table. While not covered in depth in this chapter, you can read more about the VISIT_DETAIL table in the <a href="https://github.com/OHDSI/CommonDataModel/wiki/VISIT_DETAIL">CDM wiki</a>.</p>
</div>
<div id="conditionOccurrence" class="section level3">
<h3><span class="header-section-number">6.3.5</span> CONDITION_OCCURRENCE</h3>
<p>Records in the CONDITION_OCCURRENCE table are diagnoses, signs, or symptoms of a condition either observed by a Provider or reported by the patient.</p>
<p><strong>What are Lauren’s conditions?</strong></p>
<p>Revisiting her account she says:</p>
<blockquote>
<p>About 3 years ago I noticed my periods, which had also been painful, were getting increasingly more painful. I started becoming aware of a sharp jabbing pain right by my colon and feeling tender and bloated around my tailbone and lower pelvis area. My periods had become so painful that I was missing 1-2 days of work a month. Painkillers sometimes dulled the pain, but usually they didn’t do much.</p>
</blockquote>
<p>The SNOMED code for painful menstruation cramps, otherwise known as dysmenorrhea, is 266599000. Table <a href="CommonDataModel.html#tab:conditionOccurrence">6.6</a> shows how that would be represented in the CONDITION_OCCURRENCE table:</p>
<table>
<caption><span id="tab:conditionOccurrence">Table 6.6: </span> The CONDITION_OCCURRENCE table.</caption>
<colgroup>
<col width="30%" />
<col width="16%" />
<col width="53%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Column name</th>
<th align="left">Value</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">condition_ occurrence_id</td>
<td align="left">964</td>
<td align="left">This is typically an autogenerated field that creates a unique ID number for each condition on the person’s record in the converted CDM database.</td>
</tr>
<tr class="even">
<td align="left">person_id</td>
<td align="left">1</td>
<td align="left">This comes from the PERSON table and links PERSON and CONDITION_OCCURRENCE.</td>
</tr>
<tr class="odd">
<td align="left">condition_concept_id</td>
<td align="left">194696</td>
<td align="left">The concept ID that represents the SNOMED code 266599000 is <a href="http://athena.ohdsi.org/search-terms/terms/194696">194696</a>.</td>
</tr>
<tr class="even">
<td align="left">condition_start_date</td>
<td align="left">2010-01-06</td>
<td align="left">The date when the instance of the Condition is recorded.</td>
</tr>
<tr class="odd">
<td align="left">condition_start_ datetime</td>
<td align="left">2010-01-06 00:00:00</td>
<td align="left">The date and time when the instance of the Condition is recorded. Midnight is used when the time is unknown</td>
</tr>
<tr class="even">
<td align="left">condition_end_date</td>
<td align="left">NULL</td>
<td align="left">If known, this is the date when the instance of the Condition is considered to have ended.</td>
</tr>
<tr class="odd">
<td align="left">condition_end_ datetime</td>
<td align="left">NULL</td>
<td align="left">If known, this is the date and time when the instance of the Condition is considered to have ended.</td>
</tr>
<tr class="even">
<td align="left">condition_type_ concept_id</td>
<td align="left">32020</td>
<td align="left">This column is intended to provide information about the provenance of the condition, i.e. does it come from an insurance claim, hospital billing record, EHR record, etc. For this example the concept ID <a href="http://athena.ohdsi.org/search-terms/terms/32020">32020</a> (“EHR encounter diagnosis”) is used as the encounters are similar to electronic health records. Concept IDs in this field should be in the “Condition Type” vocabulary.</td>
</tr>
<tr class="odd">
<td align="left">condition_status_ concept_id</td>
<td align="left">0</td>
<td align="left">If known, the this represents when and/or how the condition was diagnosed. For example, a condition could be an admitting diagnosis, in which case the concept ID <a href="http://athena.ohdsi.org/search-terms/terms/4203942">4203942</a> would be used.</td>
</tr>
<tr class="even">
<td align="left">stop_reason</td>
<td align="left">NULL</td>
<td align="left">If known, the reason that the Condition was no longer present, as indicated in the source data.</td>
</tr>
<tr class="odd">
<td align="left">provider_id</td>
<td align="left">NULL</td>
<td align="left">If the condition record has a diagnosing provider listed, the ID for that provider goes in this field. This should be the provider_id from the PROVIDER table that represents the provider on the encounter.</td>
</tr>
<tr class="even">
<td align="left">visit_occurrence_id</td>
<td align="left">509</td>
<td align="left">If known, this is the visit (represented as visit_occurrence_id taken from the VISIT_OCCURRENCE table) during which the condition was diagnosed.</td>
</tr>
<tr class="odd">
<td align="left">visit_detail_id</td>
<td align="left">NULL</td>
<td align="left">If known, this is the visit detail encounter (represented as VISIT_DETAIL_ID from the VISIT_DETAIL table) during which the condition was diagnosed.</td>
</tr>
<tr class="even">
<td align="left">condition_source_ value</td>
<td align="left">266599000</td>
<td align="left">This is the value from the source that represents the condition. In Lauren’s case of dysmenorrhea the SNOMED code for that condition is stored here and the standard concept ID mapped from that code is stored in condition_concept_id.</td>
</tr>
<tr class="odd">
<td align="left">condition_source_ concept_id</td>
<td align="left">194696</td>
<td align="left">If the condition value from the source is coded using a vocabulary that is recognized by OHDSI, the concept ID that represents that value would go here. In the example of dysmennorhea the source value is a SNOMED code so the concept ID that represents that code is 194696. In this case it is the same as the condition_concept_id since the SNOMED vocabulary is the standard condition vocabulary.</td>
</tr>
<tr class="even">
<td align="left">condition_status_ source_ value</td>
<td align="left">0</td>
<td align="left">If the condition status value from the source is coded using a vocabulary that is recognized by OHDSI, the concept ID that represents that source value would go here.</td>
</tr>
</tbody>
</table>
</div>
<div id="drugExposure" class="section level3">
<h3><span class="header-section-number">6.3.6</span> DRUG_EXPOSURE</h3>
<p>The DRUG_EXPOSURE table captures records about the utilization of a drug when ingested or otherwise introduced into the body. Drugs include prescription and over-the-counter medicines, vaccines, and large-molecule biologic therapies. Radiological devices ingested or applied locally do not count as Drugs.</p>
<p>Drug exposures are inferred from clinical events associated with orders, prescriptions written, pharmacy dispensings, procedural administrations, and other patient-reported information.</p>
<p><strong>What are Lauren’s drug exposures?</strong></p>
<p>We know that Lauren was given 60 acetaminophen 325mg oral tablets for 30 days (NDC code 69842087651) at her visit on 2010-01-06 to help with her dysmenorrhea pain. Here’s how that might look in the DRUG_EXPOSURE table:</p>
<table>
<caption><span id="tab:drugExposure">Table 6.7: </span> The DRUG_EXPOSURE table.</caption>
<colgroup>
<col width="30%" />
<col width="16%" />
<col width="53%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Column name</th>
<th align="left">Value</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">drug_exposure_id</td>
<td align="left">1001</td>
<td align="left">This is typically an autogenerated field that creates a unique ID number for each drug exposure on the person’s record in the converted CDM database.</td>
</tr>
<tr class="even">
<td align="left">person_id</td>
<td align="left">1</td>
<td align="left">This comes from the PERSON table and links PERSON and DRUG_EXPOSURE.</td>
</tr>
<tr class="odd">
<td align="left">drug_concept_id</td>
<td align="left">1127433</td>
<td align="left">The NDC code for acetaminophen maps to the RxNorm code 313782 which is represented by the concept ID <a href="http://athena.ohdsi.org/search-terms/terms/1127433">1127433</a>.</td>
</tr>
<tr class="even">
<td align="left">drug_exposure_start_ date</td>
<td align="left">2010-01-06</td>
<td align="left">The start date of the drug exposure</td>
</tr>
<tr class="odd">
<td align="left">drug_exposure_start_ datetime</td>
<td align="left">2010-01-06 00:00:00</td>
<td align="left">The start date and time of the drug exposure. Midnight is used when the time is not known.</td>
</tr>
<tr class="even">
<td align="left">drug_exposure_end_ date</td>
<td align="left">2010-02-05</td>
<td align="left">The end date of the drug exposure. Depending on different sources, it could be a known or an inferred date and denotes the last day at which the patient was still exposed to the drug. In this case the end is inferred since we know Lauren had a 30 days supply.</td>
</tr>
<tr class="odd">
<td align="left">drug_exposure_end_ datetime</td>
<td align="left">2010-02-05 00:00:00</td>
<td align="left">The end date and time of the drug exposure. Similar rules apply as to drug_exposure_end_date. Midnight is used when time is unknown</td>
</tr>
<tr class="even">
<td align="left">verbatim_end_date</td>
<td align="left">NULL</td>
<td align="left">If the source provides an end date rather than just days supply that date goes here.</td>
</tr>
<tr class="odd">
<td align="left">drug_type_concept_id</td>
<td align="left">38000177</td>
<td align="left">This column is intended to provide information about the provenance of the drug, i.e. does it come from an insurance claim, prescription record, etc. For this example the concept ID <a href="http://athena.ohdsi.org/search-terms/terms/38000177">38000177</a> (“Prescription written”) is used as the drug record is from a written prescription. Concept IDs in this field should be in the “Drug Type” vocabulary.</td>
</tr>
<tr class="even">
<td align="left">stop_reason</td>
<td align="left">NULL</td>
<td align="left">The reason the drug was stopped. Reasons include regimen completed, changed, removed, etc.</td>
</tr>
<tr class="odd">
<td align="left">refills</td>
<td align="left">NULL</td>
<td align="left">The number of refills after the initial prescription. The initial prescription is not counted, values start with null. In the case of Lauren’s acetaminophen she did not have any refills so the value is NULL.</td>
</tr>
<tr class="even">
<td align="left">quantity</td>
<td align="left">60</td>
<td align="left">The quantity of drug as recorded in the original prescription or dispensing record.</td>
</tr>
<tr class="odd">
<td align="left">days_supply</td>
<td align="left">30</td>
<td align="left">The number of days of supply of the medication as prescribed.</td>
</tr>
<tr class="even">
<td align="left">sig</td>
<td align="left">NULL</td>
<td align="left">The directions (‘signetur’) on the Drug prescription as recorded in the original prescription (and printed on the container) or dispensing record.</td>
</tr>
<tr class="odd">
<td align="left">route_concept_id</td>
<td align="left">4132161</td>
<td align="left">This concept is meant to represent the route of the drug the patient was was exposed to. Lauren took her acetaminophen orally so the concept ID <a href="http://athena.ohdsi.org/search-terms/terms/4132161">4132161</a> (“Oral”) is used.</td>
</tr>
<tr class="even">
<td align="left">lot_number</td>
<td align="left">NULL</td>
<td align="left">An identifier assigned to a particular quantity or lot of drug product from the manufacturer.</td>
</tr>
<tr class="odd">
<td align="left">provider_id</td>
<td align="left">NULL</td>
<td align="left">If the drug record has a prescribing provider listed, the ID for that provider goes in this field. This should be the PROVIDER_ID from the PROVIDER table that represents the provider on the encounter.</td>
</tr>
<tr class="even">
<td align="left">visit_occurrence_id</td>
<td align="left">509</td>
<td align="left">If known, this is the visit (represented as visit_occurrence_id taken from the VISIT_OCCURRENCE table) during which the drug was prescribed.</td>
</tr>
<tr class="odd">
<td align="left">visit_detail_id</td>
<td align="left">NULL</td>
<td align="left">If known, this is the visit detail (represented as visit_detail_id taken from the VISIT_DETAIL table) during which the drug was prescribed.</td>
</tr>
<tr class="even">
<td align="left">drug_source_value</td>
<td align="left">69842087651</td>
<td align="left">This is the source code for the drug as it appears in the source data. In Lauren’s case she was prescribed acetaminophen and the NDC code is stored here.</td>
</tr>
<tr class="odd">
<td align="left">drug_source_concept_ id</td>
<td align="left">750264</td>
<td align="left">This is the concept ID that represents the drug source value. In this example the concept ID is <a href="http://athena.ohdsi.org/search-terms/terms/750264">750264</a>, the NDC code for “Acetaminophen 325 MG Oral Tablet”.</td>
</tr>
<tr class="even">
<td align="left">route_source_value</td>
<td align="left">NULL</td>
<td align="left">The information about the route of administration as detailed in the source.</td>
</tr>
<tr class="odd">
<td align="left">dose_unit_source_ value</td>
<td align="left">NULL</td>
<td align="left">The information about the dose unit as detailed in the source.</td>
</tr>
</tbody>
</table>
</div>
<div id="procedureOccurrence" class="section level3">
<h3><span class="header-section-number">6.3.7</span> PROCEDURE_OCCURRENCE</h3>
<p>The PROCEDURE_OCCURRENCE table contains records of activities or processes ordered by, or carried out by, a healthcare provider on the patient to have a diagnostic or therapeutic purpose. Procedures are present in various data sources in different forms with varying levels of standardization. For example:</p>
<ul>
<li>Medical Claims include procedure codes that are submitted as part of a claim for health services rendered, including procedures performed.</li>
<li>Electronic Health Records that capture procedures as orders.</li>
</ul>
<p><strong>What procedures did Lauren have?</strong>
From her description we know she had a ultrasound of her left ovary on 2013-01-14 that showed a 4x5cm cyst. Here’s how that would look in the PROCEDURE_OCCURRENCE table:</p>
<table>
<caption><span id="tab:procedureOccurrence">Table 6.8: </span> The PROCEDURE_OCCURRENCE table.</caption>
<colgroup>
<col width="30%" />
<col width="16%" />
<col width="53%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Column name</th>
<th align="left">Value</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">procedure_ occurrence_id</td>
<td align="left">1277</td>
<td align="left">This is typically an autogenerated field that creates a unique ID number for each procedure occurrence on the person’s record in the converted CDM database.</td>
</tr>
<tr class="even">
<td align="left">person_id</td>
<td align="left">1</td>
<td align="left">This comes from the PERSON table and links PERSON and PROCEDURE_OCCURRENCE</td>
</tr>
<tr class="odd">
<td align="left">procedure_concept_id</td>
<td align="left">4127451</td>
<td align="left">The SNOMED procedure code for a pelvic ultrasound is 304435002 which is represented by the concept ID <a href="http://athena.ohdsi.org/search-terms/terms/4127451">4127451</a>.</td>
</tr>
<tr class="even">
<td align="left">procedure_date</td>
<td align="left">2013-01-14</td>
<td align="left">The date on which the procedure was performed.</td>
</tr>
<tr class="odd">
<td align="left">procedure_datetime</td>
<td align="left">2013-01-14 00:00:00</td>
<td align="left">The date and time on which the procedure was performed. Midnight is used when time is unknown.</td>
</tr>
<tr class="even">
<td align="left">procedure_type_ concept_id</td>
<td align="left">38000275</td>
<td align="left">This column is intended to provide information about the provenance of the procedure, i.e. does it come from an insurance claim, EHR order, etc. For this example the concept ID <a href="http://athena.ohdsi.org/search-terms/terms/38000275">38000275</a> (“EHR order list entry”) is used as the procedure record is from an EHR record. Concept IDs in this field should be in the “Procedure Type” vocabulary.</td>
</tr>
<tr class="odd">
<td align="left">modifier_concept_id</td>
<td align="left">0</td>
<td align="left">This is meant for a concept ID representing the modifier on the procedure. For example, if the record indicated that a CPT4 procedure was performed bilaterally then the concept ID <a href="http://athena.ohdsi.org/search-terms/terms/42739579">42739579</a> (“Bilateral procedure”) would be used.</td>
</tr>
<tr class="even">
<td align="left">quantity</td>
<td align="left">0</td>
<td align="left">The quantity of procedures ordered or administered.</td>
</tr>
<tr class="odd">
<td align="left">provider_id</td>
<td align="left">NULL</td>
<td align="left">If the procedure record has a provider listed, the ID for that provider goes in this field. This should be the provider_id from the PROVIDER table that represents the provider on the encounter.</td>
</tr>
<tr class="even">
<td align="left">visit_occurrence_id</td>
<td align="left">740</td>
<td align="left">If known, this is the visit (represented as visit_occurrence_id taken from the VISIT_OCCURRENCE table) during which the procedure was performed.</td>
</tr>
<tr class="odd">
<td align="left">visit_detail_id</td>
<td align="left">NULL</td>
<td align="left">If known, this is the visit detail (represented as visit_detail_id taken from the VISIT_DETAIL table) during which the procedure was performed.</td>
</tr>
<tr class="even">
<td align="left">procedure_source_ value</td>
<td align="left">304435002</td>
<td align="left">The source code for the procedure as it appears in the source data. This code is mapped to a standard procedure Concept in the Standardized Vocabularies and the original code is, stored here for reference.</td>
</tr>
<tr class="odd">
<td align="left">procedure_source_ concept_id</td>
<td align="left">4127451</td>
<td align="left">This is the concept ID that represents the procedure source value.</td>
</tr>
<tr class="even">
<td align="left">modifier_source_ value</td>
<td align="left">NULL</td>
<td align="left">The source code for the modifier as it appears in the source data.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="summary-1" class="section level2">
<h2><span class="header-section-number">6.4</span> Summary</h2>

<div class="rmdsummary">
<ul>
<li>TODO: add</li>
</ul>
</div>

</div>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">6.5</span> Exercises</h2>
<p>TODO</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="summary.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="StandardizedVocabularies.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/OHDSI/TheBookOfOhdsi/edit/master/CommonDataModel.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["TheBookOfOhdsi.pdf", "TheBookOfOhdsi.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
